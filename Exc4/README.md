# Сервис ОСАГО:
### 1. Хранение данных
Для обеспечения надежности стоит предусмотреть наличие у сервиса **osago-aggregator** собственного хранилища данных **osago-aggregator-db**.
### 2. Интеграция с core-app
В качестве основного способа межсервисного взаимодействия стоит использовать отдельный топик **osago-topic** в **Apache Kafka**.
### 3. Интеграция core-app с веб-приложением
В качестве основного способа интеграции между веб-приложением и core-app необходимо выбрать подход WebSocket. Данный подход позволит отображать данные сразу без постоянных запросов ретраев в рамках одного подключения  
### 4. Применение паттернов отказоустойчивости
#### osago-agregator: 
* Circuit Breaker - необходим для предотвращения влияния на другие запросы в страховые компании, если один из сервисов страховой даст сбой;
* Retry - необходим для восстановления состояния после сбоев в рамках повторных запросов, так как методы идемпотенты.
* Timeout - необходим для соблюдения НФТ максимальное время ожидания ответа от страховой компании 60 с.
#### core-app:
* Rate Limiting - необходим в пики нагрузки для предотвращения множества повторных запросов, если таковые появятся.

# Итоговый вид
![InsureTech_C4_сontainer-diagram.png](/Exc4/InsureTech_C4_сontainer-diagram.png)